<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Referidos OXXO HMO</title>
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/ordering2/image/upload/v1609381269/fasty/rttbehxhc4dq1veizkvi.png">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #8b0000, #b30000);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 40px 0;
      margin: 0;
    }

    .container {
      background: #ffffff;
      border-radius: 14px;
      width: 90%;
      max-width: 420px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.3);
      overflow: hidden;
      text-align: center;
    }

    .header {
      background: #e30613;
      padding: 25px 20px;
    }

    .logo {
      width: 90px;
    }

    .content {
      padding: 30px;
    }

    h1 {
      color: #e30613;
      font-size: 1.4em;
      margin-bottom: 15px;
    }

    .info-text {
      font-size: 14px;
      color: #0B3D2E;
      font-weight: 600;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      text-align: left;
      color: #333;
    }

    input[type="text"], select {
      width: 100%;
      padding: 11px;
      margin-top: 5px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      transition: 0.3s;
    }

    input[type="text"]:focus, select:focus {
      border: 2px solid #e30613;
      box-shadow: 0 0 8px rgba(227,6,19,0.3);
      outline: none;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 14px;
      background-color: #e30613;
      color: #fff;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #b2050f;
      transform: translateY(-2px);
    }

    .success {
      margin-top: 15px;
      font-weight: bold;
      text-align: center;
    }

    .footer-text {
      margin-top: 25px;
      font-size: 11px;
      color: #666;
      line-height: 1.6;
    }
  </style>
</head>

<body>

  <div class="container">

    <div class="header">
      <img src="https://res.cloudinary.com/ordering2/image/upload/v1609381269/fasty/rttbehxhc4dq1veizkvi.png" alt="Logo OXXO" class="logo">
    </div>

    <div class="content">

      <h1>¡Únete a OXXO Hermosillo hoy mismo y empieza a ganar!</h1>

      <p class="info-text">
        Al enviar tu formulario, nuestro equipo se pondrá en contacto contigo vía WhatsApp en un plazo máximo de 48 horas hábiles.
      </p>

      <form id="oxxoForm">

        <label for="nombre">Nombre y apellido</label>
        <input type="text" id="nombre" name="nombre" required>

        <label for="whatsapp">WhatsApp</label>
        <input type="text" id="whatsapp" name="whatsapp" required pattern="\d{10}" title="Ingresa 10 dígitos">

        <label for="colonia">Colonia</label>
        <input type="text" id="colonia" name="colonia" required>

        <label for="ine">¿Cuentas con INE?</label>
        <select id="ine" name="ine" required>
          <option value="">Selecciona</option>
          <option value="Sí">Sí</option>
          <option value="No">No</option>
        </select>

        <label for="reingreso">¿Has trabajado anteriormente en OXXO?</label>
        <select id="reingreso" name="reingreso" required>
          <option value="">Selecciona</option>
          <option value="Sí">Sí</option>
          <option value="No">No</option>
        </select>

        <button type="submit">Enviar mi solicitud</button>
        <div class="success" id="successMsg"></div>

      </form>

      <p class="footer-text">
        Esta página es únicamente para recolectar datos de posibles perfiles para cubrir vacantes en OXXO Hermosillo.
        No es necesario enviar el formulario más de una vez.
        Una vez enviado, solo debes esperar nuestro mensaje vía WhatsApp en un plazo máximo de 48 horas hábiles.
        No contratamos a menores de edad y es indispensable contar con INE vigente para la contratación.
      </p>

    </div>

  </div>

  <script>
    const form = document.getElementById("oxxoForm");
    const successMsg = document.getElementById("successMsg");

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const reingresoValue = document.getElementById("reingreso").value;

      if (reingresoValue === "Sí") {
        successMsg.style.color = "red";
        successMsg.textContent =
          "Agradecemos tu interés de volver a nuestro equipo, pero de momento no se están considerando recontrataciones. Te contactaremos pronto si esto cambia.";
      }

      const data = new FormData(form);
      const params = new URLSearchParams(data).toString();

      fetch("https://script.google.com/macros/s/AKfycbxUp0DPdkkQR396VwwmC_U985DFcCXSYfoYRbKiA3hl402cIz1QcmdFRDUt2vlzXTs-/exec", {
        method: "POST",
        body: params,
        headers: {
          "Content-Type": "application/x-www-form-urlencoded"
        }
      })
      .then(response => response.text())
      .then(data => {
        if (reingresoValue !== "Sí") {
          successMsg.textContent =
            "¡Solicitud enviada con éxito! En breve nos ponemos en contacto por WhatsApp";
          successMsg.style.color = "green";
        }
        form.reset();
      })
      .catch(error => {
        successMsg.textContent = "Error al enviar, intenta de nuevo.";
        successMsg.style.color = "red";
        console.error(error);
      });
    });
  </script>

</body>
</html>
